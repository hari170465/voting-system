generator client {
provider = "prisma-client-js"
}


datasource db {
provider = "postgresql"
url = env("DATABASE_URL")
}


enum Role {
USER
ADMIN
}


model User {
id String @id @default(uuid())
email String @unique
passwordHash String
role Role @default(USER)
createdAt DateTime @default(now())
vote Vote?
}


model Candidate {
id String @id @default(uuid())
name String
manifesto String?
isActive Boolean @default(true)
createdAt DateTime @default(now())
votes Vote[]
}


model Vote {
id String @id @default(uuid())
user User @relation(fields: [userId], references: [id])
userId String @unique
candidate Candidate @relation(fields: [candidateId], references: [id])
candidateId String
createdAt DateTime @default(now())
}